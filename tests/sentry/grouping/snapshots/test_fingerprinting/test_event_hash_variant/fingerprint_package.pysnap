---
created: '2020-07-23T17:33:09.478690Z'
creator: sentry
source: tests/sentry/grouping/test_fingerprinting.py
---
config:
  rules:
  - fingerprint:
    - '{{ package }}'
    matchers:
    - - type
      - DatabaseUnavailable
  version: 1
fingerprint:
- '{{ package }}'
variants:
  app:
    contributes: false
    hint: exception of system takes precedence
    id: app
    name: in-app
    values:
    - contributes: false
      hint: ignored because this variant does not have a contributing stacktrace,
        but the system variant does
      id: exception
      name: exception
      values:
      - contributes: false
        hint: null
        id: stacktrace
        name: stacktrace
        values:
        - contributes: false
          hint: marked out of app by grouping enhancement rule (family:native package:/usr/lib/**
            -app)
          id: frame
          name: null
          values:
          - contributes: false
            hint: null
            id: module
            name: null
            values: []
          - contributes: true
            hint: null
            id: filename
            name: null
            values:
            - application.cpp
          - contributes: true
            hint: null
            id: function
            name: null
            values:
            - main
      - contributes: true
        hint: null
        id: type
        name: null
        values:
        - DatabaseUnavailable
      - contributes: true
        hint: null
        id: value
        name: null
        values:
        - For some reason the database went away
  custom-fingerprint:
    type: custom-fingerprint
    values:
    - foo.dylib
  system:
    contributes: false
    hint: null
    id: system
    name: null
    values:
    - contributes: true
      hint: null
      id: exception
      name: exception
      values:
      - contributes: true
        hint: null
        id: stacktrace
        name: stacktrace
        values:
        - contributes: true
          hint: null
          id: frame
          name: null
          values:
          - contributes: false
            hint: null
            id: module
            name: null
            values: []
          - contributes: true
            hint: null
            id: filename
            name: null
            values:
            - application.cpp
          - contributes: true
            hint: null
            id: function
            name: null
            values:
            - main
      - contributes: true
        hint: null
        id: type
        name: null
        values:
        - DatabaseUnavailable
      - contributes: false
        hint: ignored because stacktrace takes precedence
        id: value
        name: null
        values:
        - For some reason the database went away
